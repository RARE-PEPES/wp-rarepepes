{"version":3,"sources":["main.js"],"names":["let","nftData","assetNamesOnPage","rsData","assetNames","fetchData","async","data","await","fetch","json","preloadImages","error","console","forEach","item","img","includes","asset_name","Image","src","img_url","img_obj","updateTooltipPosition","tooltipWidth","tooltipHeight","viewportWidth","mouseX","event","clientX","mouseY","clientY","activeTooltip","document","querySelector","offsetWidth","offsetHeight","window","innerWidth","style","top","left","linkMouseOverHandler","tooltip","link","assetName","dataset","assetData","find","innerHTML","series","order","appendChild","quantity","display","classList","add","linkMouseOutHandler","remove","initTooltips","links","querySelectorAll","addEventListener","createElement","className","body"],"mappings":"AAAAA,IAAAC,QACAC,iBAAAC,OAAAC,WAEA,MAAAC,UAAAC,UACA,IACA,IACAC,EAAAC,MADAA,MAAAC,MAAA,sCAAA,GACAC,KAAA,EACAT,QAAAM,EAAAA,KACAI,cAAA,CAGA,CAFA,MAAAC,GACAC,QAAAD,MAAA,uBAAAA,CAAA,CACA,CACA,EAEAD,cAAA,KACAV,QAAAa,QAAAC,IACA,IACAC,EADAd,iBAAAe,SAAAF,EAAAG,UAAA,KACAF,EAAA,IAAAG,OACAC,IAAAL,EAAAM,QACAN,EAAAO,QAAAN,EAEA,CAAA,CACA,EAEAO,sBAAA,IACAvB,IAKAwB,EACAC,EACAC,EAPAC,EAAAC,EAAAC,QACAC,EAAAF,EAAAG,QACAC,EAAAC,SAAAC,cAAA,oBAAA,EAEAF,IACAR,EAAAQ,EAAAG,YACAV,EAAAO,EAAAI,aACAV,EAAAW,OAAAC,WAIAN,EAAAO,MAAAC,IADAV,EAAA,IACAA,EAAA,GAAA,KAEAA,GAAAL,EAAA,IAAA,KAKAO,EAAAO,MAAAE,KADAf,EAAAC,EAAAH,EAAA,EACAE,EAAAF,EAAA,GAAA,KAEAG,EAAAH,EAAA,EAAA,EACA,OAKAG,EAAAH,EAAA,EAAA,KAGA,EAEAkB,qBAAA,CAAAC,EAAAC,KACA,GAAA3C,QAAA,CAOA,MAAA4C,EAAAD,EAAAE,QAAAD,WACAE,EAAA9C,QAAA+C,KAAAjC,GAAAA,EAAAG,aAAA2B,CAAA,IAIAF,EAAAM;kBACAF,EAAA7B;gCACA6B,EAAAG,sCAAAH,EAAAI;cAEAR,EAAAS,YAAAL,EAAAzB,OAAA,EACAqB,EAAAM;2CACAF,EAAAM;WARAV,EAAAM,UAAA,+BALA,MAJAN,EAAAM,UAAA,0BACAN,EAAAJ,MAAAe,QAAA,QACAX,EAAAY,UAAAC,IAAA,QAAA,CAoBA,EAEAC,oBAAA,IACAd,EAAAJ,MAAAe,QAAA,OACAX,EAAAY,UAAAG,OAAA,QAAA,CACA,EAEAC,aAAA,KACA,IAAAC,EAAA3B,SAAA4B,iBAAA,UAAA,EACAD,IAIA3B,SAAA6B,iBAAA,YAAAvC,qBAAA,EAEAqC,EAAA9C,QAAA,IACA,MAAA6B,EAAAV,SAAA8B,cAAA,KAAA,EACApB,EAAAqB,UAAA,aACA/B,SAAAgC,KAAAb,YAAAT,CAAA,EAEAC,EAAAkB,iBAAA,YAAA,IAAApB,qBAAAC,EAAAC,CAAA,CAAA,EACAA,EAAAkB,iBAAA,WAAA,IAAAL,oBAAAd,CAAA,CAAA,CACA,CAAA,EACA,EAEAV,SAAA6B,iBAAA,mBAAAxD,MAAAsB,IACApB,MAAAH,UAAA,EACAsD,aAAA,CACA,CAAA","file":"main.min.js","sourcesContent":["let nftData;\nlet assetNamesOnPage = rsData.assetNames; // Defined in shortcode.php\n\nconst fetchData = async () => {\n    try {\n        const response = await fetch('https://data.rarepepes.com/items/nft');\n        const data = await response.json();\n        nftData = data.data;\n        preloadImages();\n    } catch (error) {\n        console.error(\"Error fetching data:\", error);\n    }\n}\n\nconst preloadImages = () => {\n    nftData.forEach(item => {\n        if (assetNamesOnPage.includes(item.asset_name)) {\n            const img = new Image();\n            img.src = item.img_url;\n            item.img_obj = img;\n        }\n    });\n}\n\nconst updateTooltipPosition = (event) => {\n    let mouseX = event.clientX;\n    let mouseY = event.clientY;\n    const activeTooltip = document.querySelector('.rs-tooltip.active');\n    \n    if (activeTooltip) {\n        const tooltipWidth = activeTooltip.offsetWidth;\n        const tooltipHeight = activeTooltip.offsetHeight;\n        const viewportWidth = window.innerWidth;\n\n        // If tooltip overflows to the top, place below cursor\n        if (mouseY < 400) {\n            activeTooltip.style.top = `${mouseY + 10}px`;\n        } else {\n            activeTooltip.style.top = `${mouseY - (tooltipHeight + 10)}px`;\n        }\n\n        // If tooltip overflows to the sides, place at edge of viewport\n        if (mouseX + tooltipWidth / 2 > viewportWidth) {\n            activeTooltip.style.left = `${viewportWidth - tooltipWidth - 10}px`; // 10px padding from right\n        }\n        else if (mouseX - tooltipWidth / 2 < 0) {\n            activeTooltip.style.left = '10px'; // 10px padding from left\n        }\n        \n        // Normal centered positioning\n        else {\n            activeTooltip.style.left = `${mouseX - (tooltipWidth / 2)}px`;\n        }\n    }\n}\n\nconst linkMouseOverHandler = (tooltip, link) => {\n    if (!nftData) {\n        tooltip.innerHTML = 'Data is not loaded yet.';\n        tooltip.style.display = 'block';\n        tooltip.classList.add('active');\n        return;\n    }\n\n    const assetName = link.dataset.assetName;\n    const assetData = nftData.find(item => item.asset_name === assetName);\n    if (!assetData) {\n        tooltip.innerHTML = 'No data found for this asset.';\n    } else {\n        tooltip.innerHTML = `\n            <h3>${assetData.asset_name}</h3>\n            <p>Series <strong>${assetData.series}</strong>&nbsp; Card <strong>${assetData.order}</strong></p>\n            `;\n        tooltip.appendChild(assetData.img_obj);\n        tooltip.innerHTML += `\n            <p>Initially Issued: <strong>${assetData.quantity}</strong></p>\n        `;\n    }\n    tooltip.style.display = 'block';\n    tooltip.classList.add('active');\n}\n\nconst linkMouseOutHandler = (tooltip) => {\n    tooltip.style.display = 'none';\n    tooltip.classList.remove('active');\n}\n\nconst initTooltips = () => {\n    const links = document.querySelectorAll('.rs-link');\n    if (!links) {\n        return;\n    }\n\n    document.addEventListener('mousemove', updateTooltipPosition);\n\n    links.forEach((link) => {\n        const tooltip = document.createElement('div');\n        tooltip.className = 'rs-tooltip';\n        document.body.appendChild(tooltip);\n\n        link.addEventListener('mouseover', () => linkMouseOverHandler(tooltip, link));\n        link.addEventListener('mouseout', () => linkMouseOutHandler(tooltip));\n    });\n}\n\ndocument.addEventListener('DOMContentLoaded', async (event) => {\n    await fetchData();\n    initTooltips();\n});\n"]}